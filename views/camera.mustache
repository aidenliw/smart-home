{{>header}}

{{>navigation}}

<div class="container overflow-auto">
	<div class="text-center">
		<div class="header">
			<h1 class="display-3">Camera Control</h1>
		</div>

        <div class="row">
            <div class="col-sm-2 mb-3 mb-sm-0"></div>
            <div class="col-sm-4 mb-3 mb-sm-0">   
                <div class="card">
                    <div class="card-body">
                        <label for="activate">
                            <h1 class="card-title display-6">Activate Auto-Tracking</h1>
                            <form action="/camera/activate" encType="multipart/form-data" method="post">
                                <button type="submit" id="activate" class="btn btn-success btn-circle btn-xl">
                                    <i class="fa-solid fa-users-viewfinder"></i>
                                </button>
                            </form>
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="card">
                    <div class="card-body">
                        <label for="deactivate">
                            <h1 class="card-title display-6">Deactivate Auto-Tracking</h1>
                            <form action="/camera/deactivate" encType="multipart/form-data" method="post">
                                <button type="submit" id="deactivate" class="btn btn-danger btn-circle btn-xl">
                                    <i class="fa-solid fa-camera-rotate"></i>
                                </button>
                            </form>
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-sm-2 mb-3 mb-sm-0"></div>
        </div>
        
        <div class="row">
            <div class="col-sm-2 mb-3 mb-sm-0"></div>
            <div class="col-sm-8">
                {{#succeed_message}}
                <div class="alert alert-success mt-3" role="alert">
                    {{ succeed_message }}
                </div>
                {{/succeed_message}}
                {{#failed_message}}
                <div class="alert alert-warning mt-3" role="alert">
                    {{ failed_message }}
                </div>
                {{/failed_message}}
            </div>
            <div class="col-sm-2 mb-3 mb-sm-0"></div>
        </div>

        <h1 class="card-title display-4 my-3">Adjust the Camera Angle</h1>

        <div class="row">
            <div class="col-3 mb-3 mb-sm-0"></div>
            <div class="col-6">
                <div class="card">
                    <div class="card-body">
                        <div class="square-container">
                            <div class="square"><div class="content"></div></div>
                            <div class="square">
                                <div class="content">
                                    <form class="full-form" action="/camera/up" encType="multipart/form-data" method="post" onsubmit="addInputValueToForm(event)">
                                        <button type="submit" id="up" class="btn btn-primary btn-circle btn-xl arrows">
                                            <i class="fa-solid fa-arrow-up"></i>
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div class="square"><div class="content"></div></div>
                            <div class="square">
                                <div class="content">
                                    <form class="full-form" action="/camera/left" encType="multipart/form-data" method="post" onsubmit="addInputValueToForm(event)">
                                        <button type="submit" id="left" class="btn btn-primary btn-circle btn-xl arrows">
                                            <i class="fa-solid fa-arrow-left"></i>
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div class="square">
                                <div class="content">
                                    <input type="number" class="form-control camera-angle" id="camera-angle" name="degree" value="{{degree}}">
                                </div>
                            </div>
                            <div class="square">
                                <div class="content">
                                    <form class="full-form" action="/camera/right" encType="multipart/form-data" method="post" onsubmit="addInputValueToForm(event)">
                                        <button type="submit" id="right" class="btn btn-primary btn-circle btn-xl arrows">
                                            <i class="fa-solid fa-arrow-right"></i>
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div class="square"><div class="content"></div></div>
                            <div class="square">
                                <div class="content">
                                    <form class="full-form" action="/camera/down" encType="multipart/form-data" method="post" onsubmit="addInputValueToForm(event)">
                                        <button type="submit" id="down" class="btn btn-primary btn-circle btn-xl arrows">
                                            <i class="fa-solid fa-arrow-down"></i>
                                        </button>
                                    </form>
                                </div>
                            </div>
                            <div class="square"><div class="content"></div></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-3 mb-3 mb-sm-0"></div>
        </div>
		
	</div>
</div>

<script>
    function addInputValueToForm(event) {
        event.preventDefault();
        const form = event.target;
        const input = document.getElementById('camera-angle');
        const inputClone = input.cloneNode(true);
        inputClone.style.display = 'none';
        form.appendChild(inputClone);
        form.submit();
    }
</script>

{{>footer}}
